---
import HeaderButton from "./HeaderButton.astro";
import { House, Users, Sun, Moon } from "@lucide/astro";
---

<header class="pt-8 px-4 mx-auto max-w-xl lg:pt-16 lg:px-6">
    <div class="text-center">
        <h1
            class="mb-4 text-5xl font-bold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white"
        >
            Genshin Impact
        </h1>
        <p class="font-light text-gray-500 sm:text-xl dark:text-gray-400">
            Estad√≠sticas de todos los personajes de Genshin Impact
        </p>
    </div>

    <nav
        class="flex flex-col items-center gap-3 justify-between w-full md:flex-row py-4"
    >
        <HeaderButton href="/">
            <House slot="before" size={24} />
            Inicio
        </HeaderButton>
        <HeaderButton href="/characters">
            <Users slot="before" size={24} />
            Personajes
        </HeaderButton>
    </nav>

    <button
        id="theme-toggle"
        type="button"
        class="absolute top-4 right-4 p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 transition-colors"
        aria-label="Toggle theme"
        aria-pressed="false"
    >
        <Sun class="hidden dark:block" size={20} />
        <Moon class="block dark:hidden" size={20} />
    </button>
</header>

<script>
    document.addEventListener("astro:page-load", () => {
        const toggle = document.getElementById("theme-toggle");
        if (!toggle) return;
        toggle.setAttribute("aria-pressed", String(document.documentElement.classList.contains("dark")));
        toggle.addEventListener("click", () => {
            const isDark = document.documentElement.classList.toggle("dark");
            localStorage.setItem("theme", isDark ? "dark" : "light");
            toggle.setAttribute("aria-pressed", String(isDark));
        });
    });
</script>
